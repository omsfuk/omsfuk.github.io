------------------------------
title: 模板方法模式
tags: 设计模式
------------------------------
# 模板方法模式

## 定义
```
Define the skeleton of an algorithm in an operation, deferring some steps to subclasses.Template Method lets subclasses redefine certain step of an algorithm without changing the algorithm's structure
定义一个操作中算法的框架，而将这些步骤延迟到子类中。使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤
```

## 概述
模板方法是一个简单的设计模式，仅仅使用了Java的继承机制，但它是一个应用十分广泛的模式。抽象模板中的方法分为两类：基本方法和模板方法。为了防止恶意的操作，一般模板方法都加final关键字，不允许被覆写。

## 优缺点
#### 优点
* 封装不变部分，扩展可变部分
* 提取公共部分代码，便于维护

#### 缺点
* 需要为每一个基本方法的不同实现提供一个子类，如果父类中可变的基本方法太多，将会导致类的个数增加，系统更加庞大，设计也更加抽象，此时，可结合桥接模式来进行设计。

## 使用场景
多个子类有共有的方法，并且逻辑基本相同时。
重要复杂的算法，可以把核心算法设计为模板方法，周边的相关细节功能则由各个类实现。
重构时，模板方法模式是一个经常使用的模式，把相同的代码抽取到父类中，然后通过钩子函数约束其行为

## 扩展
增加钩子函数。通过钩子函数，父类可以根据子类方法的返回结果来调整模板方法的逻辑。
