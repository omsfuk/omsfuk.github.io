-----------------------
title: 依赖倒置原则
tags: 设计模式
-----------------------
# 依赖倒置原则的定义
* High level modules should not depend upon low level modules.Both should depend uponabstractions.（高层模块不应该依赖低层模块， 两者都应该依赖其抽象；）

* Abstractions should not depend upon details.（抽象不应该依赖细节；）

* Details should depend upon abstractions.（细节应该依赖抽象。）

# 依赖转置原则在Java中的具体应用
* 模块间的依赖通过抽象发生， 实现类之间不发生直接的依赖关系， 其依赖关系是通过接口或抽象类产生的；

* 接口或抽象类不依赖于实现类；

* 实现类依赖接口或抽象类。

* 更加精简的定义就是“面向接口编程”——OOD（Object-Oriented Design， 面向对象设计）的精髓之一。

# 优点
* 采用依赖倒置原则可以减少类间的耦合性， 提高系统的稳定性， 降低并行开发引起的风险， 提高代码的可读性和可维护性。

* 在新增加低层模块时， 只修改了业务场景类， 也就是高层模块（一种不彻底的方式是在高层模块中依赖底层模块，通过DP容器，如Spring，可以解决这个问题）， 对其他低层模块类不需要做任何修改， 业务就可以运行， 把“变更”引起的风险扩散降到最低。

# 依赖的三种写法
1. 构造函数传递依赖对象
在类中通过**构造函数**声明依赖对象

2. Setter方法传递依赖对象
在抽象中设置**Setter方法**声明依赖关系，

3. 接口声明依赖对象
在**接口的方法**中声明依赖对象

# 最佳实践
* 依赖倒置原则是6个设计原则中最难以实现的原则， 它是实现开闭原则的重要途径， 依赖倒置原则没有实现， 就别想实现对扩展开放， 对修改关闭。 在项目中， 大家只要记住是“面向接口编程”就基本上抓住了依赖倒置原则的核心

* 我们在实际的项目中使用依赖倒置原则时需要审时度势，不要抓住一个原则不放， 每一个原则的优点都是有限度的， 并不是放之四海而皆准的真理，所以别为了遵循一个原则而放弃了一个项目的终极目标： 投产上线和盈利。
